function a(B){var C=new Date(B.getFullYear(), 0, 1);return Math.ceil((((B-C)/86400000)+C.getDay()+1)/7)}function b(_a,_b,_c){document.getElementById('clockMins').innerText=_a;document.getElementById('clockSecs').innerText=_b;document.getElementById('clockSubHeading').innerText=_c;_a=='––'?document.getElementById('clockTime').ariaLabel='No time displayed':document.getElementById('clockTime').ariaLabel=`${_a} minutes and ${_b} seconds left until the next period`}function c(D,_B,_C){this.title=D;this.startTime=new Date();_B=_B.split(':');this.startTime.setHours(_B[0]);this.startTime.setMinutes(_B[1]);this.startTime.setSeconds(0);this.endTime=new Date();_C=_C.split(':');this.endTime.setHours(_C[0]);this.endTime.setMinutes(_C[1]);this.endTime.setSeconds(0);this.times=[this.startTime,this.endTime]}var d={},e=[],_=document.getElementById('alert');function f(){d.extendedMentor=[new c('Period 1', '8:40', '9:40'),new c('Period 2', '9:40', '10:40'),new c('Mentor', '11:05', '11:35'),new c('Period 3', '11:35', '12:35'),new c('Period 4', '12:40', '13:40'),new c('Period 5', '14:30', '15:30')];d.gohome=[new c('the holidays, please stop looking at this', '00:01', '23:59')];d.assembly=[new c('Assembly', '8:30', '9:30'),new c('Period 2', '9:55', '10:55'),new c('Period 3', '11:20', '12:20'),new c('Period 4', '12:20', '13:20'),new c('Period 5', '14:20', '15:20'),new c('Period 6', '14:35', '15:30')];d.coCurricular=[new c('Period 1', '8:40', '9:35'),new c('Period 2', '9:40', '10:40'),new c('Period 3', '11:00', '12:00'),new c('Period 4', '12:00', '13:00'),new c('Co-curricular 1', '13:30', '14:30'),new c('Co-curricular 2', '14:30', '15:30')];d.standard=[new c('Period 1', '8:40', '9:40'),new c('Period 2', '9:40', '10:40'),new c('Mentor', '11:05', '11:20'),new c('Period 3', '11:20', '12:20'),new c('Period 4', '12:20', '13:20'),new c('Period 5', '14:20', '15:20')];e[0]=[d.standard,d.standard,d.coCurricular,d.standard,d.standard];e[1]=[d.standard,d.standard,d.coCurricular,d.standard,d.assembly]}function g(){var _A=new Date(),E=(a(_A)%2)?1:0,aA=['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'],_d=aA[_A.getDay()],_e=document.getElementById('weekIndicator'),G=_A.getTime(),H=F.filter(i=>G<i.endTime.getTime()),J=H[0],h=~~k/3600;_e.innerText=`${_d}, Week ${E?'A':'B'}`;_e.setAttribute('data-week',E?'A':'B');let F=[];if(_A.getDay()!==6&&_A.getDay())F=e[E][_A.getDay()-1];else{b('––','––','Relax, it\'s the weekend');return!1}if(!H.length){b('––','––',`${_A.getDay()==5?'Relax, the week is over':'Relax, the day is over'}`);var I=new Date();I.setHours(24);I.setMinutes(0);I.setSeconds(0);setTimeout(g,I-_A+2000);setTimeout(f,I-_A+1000);return!1}let k;let l;G<J.startTime.getTime()?(k=(J.startTime-_A)/1000,l=`Until ${J.title} starts`):(k=(J.endTime-_A)/1000,l=`Until the end of ${J.title}`);let m=~~k/60%60;let s=~~k%60;m=m+(h*60);m=`${m}`.padStart(2,'0');s=`${s}`.padStart(2,'0');b(`${m}:`,s,l);setTimeout(g,500)}function A(){var aB=new URLSearchParams(window.location.search),aC=aB.get('cimg'),aD=['./backgrounds/autumnal-peach-preview.png','./backgrounds/bright-rain-preview.png','./backgrounds/good-vibes-preview.png','./backgrounds/moonrise-preview.png','./backgrounds/rose-thorn-preview.png'],_D=~~Math.random()*aD.length,_E=aD[_D];if(aC!==null){document.body.style.backgroundImage=`url(${aC})`;return!1}document.body.style.backgroundImage=`url(${_E})`}f();g();A();if(_){var j=_.dataset.alertId;window.localStorage.getItem(`isAlertClosed_${j}`)!=='true'&&(_.style.display='flex');document.getElementById('alertClose').addEventListener('click',()=>{_.style.display='none';window.localStorage.setItem(`isAlertClosed_${j}`,!0)})}
